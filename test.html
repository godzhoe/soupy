<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<link href="./test.css" rel="stylesheet" type="text/css" media="all">


   

<p>click the card to flip. wait for complete flip to get full rotation.</p>
<div id="main">
  <div class="card">
    <div class="cardface cardfront">front</div>
    <div class="cardface cardback">back</div>
  </div>
</div>

<script>$(document).ready(function () {
    $(".card").addClass("blue");
  });
  
  $(".card").click(function () {
    var $this = $(".card");
  
    if ($this.hasClass("blue")) {
      $this.css("transform", "rotateY(180deg)");
      $this.css("transition", "1s")
      $this.removeClass("blue");
      $this.addClass("red");
    } else {
      $this.css("transform", "rotateY(360deg)");
      $this.css("transition", "1s")
      
      $this.removeClass("red");
      $this.addClass("blue");
    }
  });
  
  const transition =  document.querySelector(".card");
      transition.ontransitionend = () => {
        if ($('.card').hasClass("blue")) {
        $('.card').css("transform", "rotateY(0deg)");
        $('.card').css("transition", "none");
        } 
      };</script>